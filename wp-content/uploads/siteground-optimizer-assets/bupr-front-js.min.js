jQuery(document).ready(function(){jQuery('.add_review_msg').hide(),jQuery(document).on('click','#bupr-add-review-btn a',function(b){var a=jQuery(this).attr('show');localStorage.setItem("bupr_show_form",a)}),jQuery('.dataTables_filter input[type="search"]').attr('placeholder','Enter Keywords....');var a=jQuery('#reviews_pluginurl').val();jQuery('.member_stars').mouseenter(function(){var a,b;jQuery(this).parent().children().eq(0).val('not_clicked'),a=jQuery(this).attr('data-attr'),b=jQuery(this).parent().attr('id');for(i=1;i<=a;i++)jQuery('#'+b).children('.'+i).addClass('fas').removeClass('far')}),jQuery('.member_stars').mouseleave(function(){var a=jQuery(this).parent().children().eq(1).val(),d=jQuery(this).attr('data-attr'),b=jQuery(this).parent().attr('id'),c;if(jQuery(this).parent().children().eq(0).val()!=='clicked'){c=parseInt(a)+1;for(i=c;i<=5;i++)jQuery('#'+b).children('.'+i).addClass('far').removeClass('fas')}}),jQuery('.member_stars').on('click',function(){var a=jQuery(this).attr('data-attr'),d=a,b=jQuery(this).parent().attr('id'),c;jQuery(this).parent().children().eq(1).val(a),jQuery(this).parent().children().eq(0).val('clicked');for(i=1;i<=a;i++)jQuery('#'+b).children('.'+i).addClass('fas').removeClass('far');c=parseInt(a)+1;for(j=c;j<=5;j++)jQuery('#'+b).children('.'+j).addClass('far').removeClass('fas')}),jQuery('#bupr_member_review_id').on('change',function(){jQuery(this).siblings('.bupr-error-fields').hide()}),jQuery('#review_desc').on('keydown',function(){jQuery(this).siblings('.bupr-error-fields').hide()}),jQuery('.member_stars').on('click',function(){jQuery(this).parent().next('.bupr-error-fields').hide()}),jQuery(document).on('click','#bupr_save_review',function(g){var h,a,j,f,c,d,e,i,b;g.preventDefault(),h=[],a=jQuery('#bupr_member_review_id').val(),j=jQuery('#bupr_current_user_id').val(),f='Review '+jQuery.now(),c=jQuery('#review_desc').val(),d=jQuery('#member_rating_field_counter').val(),e={},i=0,b='',jQuery('#bupr_anonymous_review').is(':checked')?b='yes':b='no',jQuery('.bupr-star-member-rating').each(function(a){e[a]=jQuery(this).val()}),jQuery('.bupr-star-member-rating').each(function(){var a=jQuery(this).val();a>0?i=i+1:jQuery(this).parent().next('.bupr-error-fields').show(),h.push(a)}),d>0?a==''?jQuery('#bupr_member_review_id').siblings('.bupr-error-fields').show():jQuery.inArray('0',h)==-1&&(jQuery('.bupr-save-reivew-spinner').show(),jQuery.post(ajaxurl,{action:'allow_bupr_member_review_update',bupr_member_id:a,bupr_current_user:j,bupr_review_title:f,bupr_review_desc:c,bupr_review_rating:e,bupr_field_counter:d,bupr_anonymous_review:b},function(b){jQuery('.bupr-save-reivew-spinner').hide(),sessionStorage.reloadAfterPageLoad=!0;var a=new Date;a.setTime(a.getTime()+20*1e3),jQuery.cookie('response',b,{expires:a}),window.location.reload()})):a==''||c==''?(a==''&&(jQuery('#bupr_member_review_id').siblings('.bupr-error-fields').show(),g.preventDefault()),c==''&&(jQuery('#review_desc').siblings('.bupr-error-fields').show(),g.preventDefault())):(jQuery('.bupr-save-reivew-spinner').show(),jQuery.post(ajaxurl,{action:'allow_bupr_member_review_update',bupr_member_id:a,bupr_current_user:j,bupr_review_title:f,bupr_review_desc:c,bupr_review_rating:e,bupr_field_counter:d,bupr_anonymous_review:b},function(b){jQuery('.bupr-save-reivew-spinner').hide(),sessionStorage.reloadAfterPageLoad=!0;var a=new Date;a.setTime(a.getTime()+20*1e3),jQuery.cookie('response',b,{expires:a}),window.location.reload()}))}),jQuery(document).on('click','#bp-member-rating-list-options > a',function(d){var a,b,c;d.preventDefault(),a=jQuery(this),a.siblings('a').removeClass('selected'),b=a.attr('attr-val'),c=a.parent().siblings('.member-rating-limit').val(),jQuery.post(ajaxurl,{action:'bupr_filter_ratings',filter:b,limit:c},function(b){var c=JSON.parse(b);a.addClass('selected'),a.parent().siblings('#bp-member-rating').html(c.html)})}),jQuery('#bp-reviews-filter-by').change(function(){var a='';jQuery('#bp-reviews-filter-by option:selected').each(function(){var a=jQuery(this),b=a.val();jQuery.post(ajaxurl,{action:'bupr_reviews_filter',filter:b},function(a){jQuery('#request-review-list').html(a)})})})}),jQuery(function(){jQuery.cookie('response')&&jQuery.cookie('response')!==''&&(jQuery('.add_review_msg p').html(jQuery.cookie('response')),jQuery('.add_review_msg').show(),jQuery.cookie('response',"",-1),jQuery('#review_subject').val(''),jQuery('#review_desc').val(''))})